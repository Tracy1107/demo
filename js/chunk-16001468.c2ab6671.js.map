{"version":3,"sources":["webpack:///./src/views/pages/Login.vue?e4ef","webpack:///src/views/pages/Login.vue","webpack:///./src/views/pages/Login.vue?92b0","webpack:///./src/views/pages/Login.vue","webpack:///./public/img/brand/solution-arch.jpg"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","scopedSlots","_u","key","fn","proxy","model","value","callback","$$v","account","expression","nativeOn","$event","type","indexOf","_k","keyCode","Login","password","on","showAlert","staticStyle","staticRenderFns","name","data","image","created","sessionStorage","setItem","console","log","$store","state","line_id","line_name","methods","user","$http","post","alert","res","role","addUser","err","deleteUser","component","module","exports"],"mappings":"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","file":"js/chunk-16001468.c2ab6671.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CContainer',{staticClass:\"d-flex align-items-center min-vh-100\"},[_c('CRow',{staticClass:\"justify-content-center\"},[_c('CCol',{attrs:{\"md\":\"10\"}},[_c('CCardGroup',[_c('CCard',{staticClass:\"p-5\"},[_c('CCardBody',[_c('CForm',[_c('h1',[_vm._v(\"登入\")]),_c('p',{staticClass:\"text-muted\"},[_vm._v(\"請輸入帳號密碼\")]),_c('CInput',{attrs:{\"type\":\"text\",\"placeholder\":\"帳號\",\"list\":\"account_list\"},scopedSlots:_vm._u([{key:\"prepend-content\",fn:function(){return [_c('CIcon',{attrs:{\"name\":\"cil-user\"}})]},proxy:true}]),model:{value:(_vm.account),callback:function ($$v) {_vm.account=$$v},expression:\"account\"}}),_c('datalist',{attrs:{\"id\":\"account_list\"}},[_c('option',{attrs:{\"label\":\"admin\",\"value\":\"admin\"}}),_c('option',{attrs:{\"label\":\"user\",\"value\":\"user\"}}),_c('option',{attrs:{\"label\":\"guest\",\"value\":\"guest\"}})]),_c('CInput',{attrs:{\"placeholder\":\"密碼\",\"type\":\"password\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.Login($event)}},scopedSlots:_vm._u([{key:\"prepend-content\",fn:function(){return [_c('CIcon',{attrs:{\"name\":\"cil-lock-locked\"}})]},proxy:true}]),model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('CRow',[_c('CCol',{attrs:{\"col\":\"6\"}},[_c('CButton',{staticClass:\"px-4\",attrs:{\"color\":\"info\"},on:{\"click\":_vm.Login}},[_vm._v(\"登入\")])],1),_c('CCol',{staticClass:\"text-right\",attrs:{\"col\":\"6\"}},[_c('CButton',{staticClass:\"px-0\",attrs:{\"color\":\"link\"},on:{\"click\":_vm.showAlert}},[_vm._v(\"忘記密碼?\")])],1)],1)],1)],1)],1),_c('CCard',{staticClass:\"text-center py-2 d-md-down-none\",staticStyle:{\"width\":\"100%\"},attrs:{\"color\":\"info\",\"text-color\":\"white\"}},[_c('CCardBody',[_c('h2',{staticClass:\"pt-4\"},[_vm._v(\"SilenSYS 設備聯網系統\")]),_c('CRow',{staticClass:\"pt-4\"},[_c('CCol',[_c('CImg',{staticClass:\"mb-2\",attrs:{\"src\":\"img/brand/iot.png\",\"fluid\":\"\"}})],1)],1),_c('p',[_vm._v(\"Data collection, data visulization, and data analysis. Real time production line monitoring.\")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <CContainer class=\"d-flex align-items-center min-vh-100\">\r\n    <CRow class=\"justify-content-center\">\r\n      <CCol md=\"10\">\r\n        <CCardGroup>\r\n          <CCard class=\"p-5\">\r\n            <CCardBody>\r\n              <CForm>\r\n                <h1>登入</h1>\r\n                <p class=\"text-muted\">請輸入帳號密碼</p>\r\n                <CInput type=\"text\" placeholder=\"帳號\" v-model=\"account\" list=\"account_list\">\r\n                  <template #prepend-content><CIcon name=\"cil-user\"/></template>\r\n                </CInput>\r\n                <datalist id=\"account_list\">\r\n                  <option label=\"admin\" value=\"admin\" />\r\n                  <option label=\"user\" value=\"user\" />\r\n                  <option label=\"guest\" value=\"guest\" />\r\n                </datalist>\r\n                <CInput placeholder=\"密碼\" type=\"password\" v-model=\"password\" @keyup.enter.native=\"Login\">\r\n                  <template #prepend-content><CIcon name=\"cil-lock-locked\"/></template>\r\n                </CInput>\r\n                <CRow>\r\n                  <CCol col=\"6\">\r\n                    <CButton color=\"info\" class=\"px-4\" @click=\"Login\">登入</CButton>\r\n                  </CCol>\r\n                  <CCol col=\"6\" class=\"text-right\">\r\n                    <CButton color=\"link\" class=\"px-0\" @click=\"showAlert\">忘記密碼?</CButton>\r\n                  </CCol>\r\n                  <!-- <CAlert color=\"warning\" closeButton>\r\n                    請聯繫系統管理員\r\n                  </CAlert> body-wrapper-->\r\n                </CRow>\r\n              </CForm>\r\n            </CCardBody>\r\n          </CCard>\r\n          <CCard\r\n            color=\"info\"\r\n            text-color=\"white\"\r\n            class=\"text-center py-2 d-md-down-none\"\r\n            style=\"width:100%\"\r\n          >\r\n            <CCardBody>\r\n              <h2 class=\"pt-4\">SilenSYS 設備聯網系統</h2>\r\n              <CRow class=\"pt-4\">\r\n                <CCol>\r\n                  <!-- <CImg :src=\"image\" fluid class=\"mb-2\" /> -->\r\n                  <CImg src=\"img/brand/iot.png\" fluid class=\"mb-2\" />\r\n                </CCol>\r\n              </CRow>\r\n              <p>Data collection, data visulization, and data analysis. Real time production line monitoring.</p>\r\n            </CCardBody>\r\n          </CCard>\r\n          \r\n        </CCardGroup>\r\n      </CCol>\r\n    </CRow>\r\n  </CContainer>\r\n</template>\r\n\r\n<script>\r\nimport login_pic from '../../../public/img/brand/solution-arch.jpg'\r\n\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    return {\r\n      account: '',\r\n      password: '',\r\n      image: login_pic\r\n    }\r\n  },\r\n  created() {\r\n    sessionStorage.setItem('ACCOUNT', ''); \r\n    sessionStorage.setItem('ROLE', '')\r\n    console.log('line_id=', this.$store.state.line_id)\r\n    console.log('line_name=', this.$store.state.line_name)\r\n  },\r\n  methods: {\r\n    Login() {\r\n      var user = { account: this.account }\r\n      this.$http.post('/api/accounts/checkAccount', { data: user })\r\n      .then(res => {\r\n        if(res.data.length==0) {  // 帳號不存在\r\n          this.account = ''\r\n          this.password = ''\r\n          // this.$message({message: '帳號不正確!!', type: 'error'})\r\n          alert('此帳號不存在!!')\r\n        } else {\r\n          let input = { account: this.account, password: this.password }\r\n          this.$http.post('/api/accounts/checkPassword', { data: input })\r\n          .then(res => {\r\n            if(res.data.pass) {\r\n              sessionStorage.setItem('ACCOUNT', this.account)  //存入 session \r\n              sessionStorage.setItem('ROLE', res.data.role)\r\n              let role = sessionStorage.getItem('ROLE')\r\n              // console.log('role = ', role)\r\n              \r\n              if(role === 'admin' || role === 'user' || role === 'guest') {\r\n                this.$router.push('/main')\r\n              } else {\r\n                this.$router.push('/login')\r\n              }\r\n            } else {\r\n              sessionStorage.setItem('ACCOUNT', ''); \r\n              sessionStorage.setItem('ROLE', '')\r\n              this.password = ''\r\n              // this.$message({message: '密碼不正確!!', type: 'error'})\r\n              alert('密碼不正確!!')\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    showAlert() {\r\n      alert('請聯絡系統管理員')\r\n    },\r\n    addUser() {\r\n      let param = {\r\n        account: 'user',\r\n        password: 'user1234',\r\n        name: 'user',\r\n        role: 'user'\r\n      }\r\n\r\n      this.$http.post('/api/accounts/addUser', {data: param})\r\n      .then(res => {\r\n        alert('新增成功!')\r\n      })\r\n      .catch(err => {\r\n        console.log('Error: ', err)\r\n      })\r\n    },\r\n    deleteUser() {\r\n      let param = {account: 'Test'}\r\n\r\n      this.$http.post('/api/accounts/deleteUser', {data: param})\r\n      .then(res => {\r\n        alert('刪除成功!')\r\n      })\r\n      .catch(err => {\r\n        console.log('Error: ', err)\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=21396e83&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/solution-arch.d078f6ae.jpg\";"],"sourceRoot":""}