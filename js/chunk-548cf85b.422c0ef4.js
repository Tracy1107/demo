(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-548cf85b"],{"4b11":function(t,e,a){"use strict";var r=a("9191"),s=a.n(r);s.a},"59e6":function(t,e,a){"use strict";var r=a("e441"),s=a.n(r);s.a},9191:function(t,e,a){},a1f4:function(t,e,a){},c588:function(t,e,a){t.exports=a.p+"img/production.d06f0887.png"},cd56:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pt-3"},[a("CRow",{staticClass:"justify-content-center",attrs:{gutters:!1}},[a("CCol",{attrs:{md:"12",sm:"12"}},[a("CButton",{staticClass:"float-right",attrs:{shape:"pill",color:"info",variant:"ghost"}},[a("font-awesome-icon",{attrs:{icon:"cog"}})],1),a("CButton",{staticClass:"float-right",attrs:{shape:"pill",color:"info",variant:"ghost"}},[a("font-awesome-icon",{attrs:{icon:"plus"}})],1)],1),a("CCol",{attrs:{md:"3",sm:"6"}},[t.loaded?a("Forming",{attrs:{mac:t.equipForming[0].mac,name:t.equipForming[0].name,line_id:t.equipForming[0].line_id}}):t._e()],1),a("CCol",{attrs:{md:"3",sm:"6"}},[t.loaded?a("Drawing",{attrs:{mac:t.equipDrawing[0].mac,name:t.equipDrawing[0].name,line_id:t.equipDrawing[0].line_id}}):t._e()],1),a("CCol",{attrs:{md:"3",sm:"6"}},[t.loaded?a("Spooling",{attrs:{mac:t.equipSpooling[0].mac,name:t.equipSpooling[0].name,line_id:t.equipSpooling[0].line_id}}):t._e()],1)],1)],1)},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",{staticClass:"card",style:[t.getStyle],on:{click:function(e){return t.go()}}},[a("CRow",[a("CCol",{staticClass:"text-center",attrs:{md:"12"}},[a("h3",[t._v(t._s(t.name))])])],1),a("CRow",{staticClass:"pt-5"},[a("CCol",{attrs:{md:"5"}},[a("h5",[a("font-awesome-icon",{attrs:{icon:"tachometer-alt"}}),t._v(" 設定速度:")],1)]),a("CCol",{staticClass:"text-center",attrs:{md:"7"}},[a("h5",[a("div",{staticStyle:{background:"#e8fffe",padding:"4px",color:"#04073b"}},[t._v(t._s(t.speedSet))])])])],1),a("CRow",[a("CCol",{attrs:{md:"5"}},[a("h5",[a("font-awesome-icon",{attrs:{icon:"tachometer-alt"}}),t._v(" 目前速度:")],1)]),a("CCol",{staticClass:"text-center",attrs:{md:"7"}},[a("h5",[a("div",{staticStyle:{background:"#e8fffe",padding:"4px",color:"#04073b"}},[t._v(t._s(t.speedCurrent))])])])],1),a("CRow",[a("CCol",{attrs:{md:"5"}},[a("h5",[a("font-awesome-icon",{attrs:{icon:"rainbow"}}),t._v(" 目前米數:")],1)]),a("CCol",{staticClass:"text-center",attrs:{md:"7"}},[a("h5",[a("div",{staticStyle:{background:"#e8fffe",padding:"4px",color:"#04073b"}},[t._v(t._s(t.meters))])])])],1),a("CRow",[a("CCol",{attrs:{md:"5"}},[a("h5",[a("font-awesome-icon",{attrs:{icon:"power-off"}}),t._v(" 機台啟動:")],1)]),a("CCol",{staticClass:"text-center",attrs:{md:"7"}},[0===t.status?a("h5",[a("div",{staticStyle:{background:"#63F53F",padding:"4px",color:"#04073b"}},[t._v("啟動")])]):a("h5",[a("div",{staticStyle:{background:"#bbbfbf",padding:"4px",color:"#04073b"}},[t._v("停止")])])])],1),a("hr"),a("CRow",[t.error?a("CCol",[a("h5",{staticClass:"text-center"},[t._v(t._s(t.errMsg))])]):a("CCol",[a("h5",{staticStyle:{visibility:"hidden"}},[t._v("Space")])])],1),t._m(0)],1)])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"go-corner",attrs:{href:"#"}},[a("div",{staticClass:"go-arrow"})])}],o=a("c588"),c=a.n(o),l={props:["mac","name","line_id"],data:function(){return{icon:c.a,timer:null,speedSet:"",speedCurrent:"",meters:"",status:1,error:0,errMsg:""}},created:function(){var t=this;this.getData(),this.timer=setInterval((function(){t.getData()}),2e3)},beforeDestroy:function(){clearInterval(this.timer)},computed:{getStyle:function(){return 0===this.error?{"background-image":"linear-gradient(-225deg, #41e595 0%, #25c0b5 100%)"}:{"background-image":"linear-gradient(-225deg, #fa9793 0%, #e33b3b 100%)"}}},methods:{getData:function(){var t=this;this.$http.get("/api/FormingLastData/".concat(this.mac)).then((function(e){if(e.data.length>0)if(t.speedSet=e.data[0].R120,t.speedCurrent=e.data[0].R130,t.meters=e.data[0].R110,t.status=e.data[0].M666,0===e.data[0].arrError.length)t.error=0;else{t.error=1,t.errMsg="";for(var a=0;a<e.data[0].arrError.length;a++)t.errMsg+=e.data[0].arrError[a].msg,a<e.data.length-1&&(t.errMsg+="/")}else t.speedSet="--",t.speedCurrent="--",t.meters="--"})).catch((function(t){console.log(t.response.data.message)}))},go:function(){this.$store.commit("setLine",{line_id:this.line_id,line_name:"",equip_mac:this.mac,equip_name:this.name,plc_ip:""}),this.$router.push("/equipment/forming/"+this.mac)}}},d=l,m=(a("59e6"),a("2877")),u=Object(m["a"])(d,i,n,!1,null,"06233a79",null),g=u.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",{staticClass:"card",style:[t.getStyle],on:{click:function(e){return t.go()}}},[a("CRow",[a("CCol",{staticClass:"text-center",attrs:{md:"12"}},[a("h3",[t._v(t._s(t.name))])])],1),a("CRow",{staticClass:"pt-5"},[a("CCol",{attrs:{md:"5"}},[a("h5",[a("font-awesome-icon",{attrs:{icon:"tachometer-alt"}}),t._v(" 設定速度:")],1)]),a("CCol",{staticClass:"text-center",attrs:{md:"7"}},[a("h5",[a("div",{staticStyle:{background:"#e8fffe",padding:"4px",color:"#04073b"}},[t._v(t._s(t.speedSet))])])])],1),a("CRow",[a("CCol",{attrs:{md:"5"}},[a("h5",[a("font-awesome-icon",{attrs:{icon:"tachometer-alt"}}),t._v(" 目前速度:")],1)]),a("CCol",{staticClass:"text-center",attrs:{md:"7"}},[a("h5",[a("div",{staticStyle:{background:"#e8fffe",padding:"4px",color:"#04073b"}},[t._v(t._s(t.speedCurrent))])])])],1),a("CRow",[a("CCol",{attrs:{md:"5"}},[a("h5",[a("font-awesome-icon",{attrs:{icon:"rainbow"}}),t._v(" 目前米數:")],1)]),a("CCol",{staticClass:"text-center",attrs:{md:"7"}},[a("h5",[a("div",{staticStyle:{background:"#e8fffe",padding:"4px",color:"#04073b"}},[t._v(t._s(t.meters))])])])],1),a("CRow",[a("CCol",{attrs:{md:"5"}},[a("h5",[a("font-awesome-icon",{attrs:{icon:"power-off"}}),t._v(" 機台啟動:")],1)]),a("CCol",{staticClass:"text-center",attrs:{md:"7"}},[0===t.status?a("h5",[a("div",{staticStyle:{background:"#63F53F",padding:"4px",color:"#04073b"}},[t._v("啟動")])]):a("h5",[a("div",{staticStyle:{background:"#bbbfbf",padding:"4px",color:"#04073b"}},[t._v("停止")])])])],1),a("hr"),a("CRow",[t.error?a("CCol",[a("h5",{staticClass:"text-center"},[t._v(t._s(t.errMsg))])]):a("CCol",[a("h5",{staticStyle:{visibility:"hidden"}},[t._v("Space")])])],1),t._m(0)],1)])},h=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"go-corner",attrs:{href:"#"}},[a("div",{staticClass:"go-arrow"})])}],C={props:["mac","name","line_id"],data:function(){return{icon:c.a,timer:null,speedSet:"",speedCurrent:"",meters:"",status:1,error:0,errMsg:""}},created:function(){var t=this;this.getData(),this.timer=setInterval((function(){t.getData()}),2e3)},beforeDestroy:function(){clearInterval(this.timer)},computed:{getStyle:function(){return 0===this.error?{"background-image":"linear-gradient(-225deg, #41e595 0%, #25c0b5 100%)"}:{"background-image":"linear-gradient(-225deg, #fa9793 0%, #e33b3b 100%)"}}},methods:{getData:function(){var t=this;this.$http.get("/api/DrawingLastData/".concat(this.mac)).then((function(e){if(e.data.length>0)if(t.speedSet=e.data[0].R120,t.speedCurrent=e.data[0].R130,t.meters=e.data[0].R110,t.status=e.data[0].M666,0===e.data[0].arrError.length)t.error=0;else{t.error=1,t.errMsg="";for(var a=0;a<e.data[0].arrError.length;a++)t.errMsg+=e.data[0].arrError[a].msg,a<e.data.length-1&&(t.errMsg+="/")}else t.speedSet="--",t.speedCurrent="--",t.meters="--"})).catch((function(t){console.log(t.response.data.message)}))},go:function(){this.$store.commit("setLine",{line_id:this.line_id,line_name:"",equip_mac:this.mac,equip_name:this.name,plc_ip:""}),this.$router.push("/equipment/drawing/"+this.mac)}}},f=C,_=(a("4b11"),Object(m["a"])(f,p,h,!1,null,"d6904ea6",null)),v=_.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a",{staticClass:"card",style:[t.getStyle],on:{click:function(e){return t.go()}}},[a("CRow",[a("CCol",{staticClass:"text-center",attrs:{md:"12"}},[a("h3",[t._v(t._s(t.name))])])],1),a("CRow",{staticClass:"pt-5"},[a("CCol",{attrs:{md:"6"}},[a("h5",{staticClass:"pt-1"},[a("font-awesome-icon",{attrs:{icon:"power-off"}}),t._v(" 捲取啟動:")],1)]),a("CCol",{staticClass:"text-center",attrs:{md:"6"}},[a("h5",[a("div",{staticStyle:{background:"#9da1a1",padding:"4px",color:"#050726"}},[t._v("停止")])])])],1),a("CRow",[a("CCol",{attrs:{md:"6"}},[a("h5",{staticClass:"pt-1"},[a("font-awesome-icon",{attrs:{icon:"power-off"}}),t._v(" 退線啟動:")],1)]),a("CCol",{staticClass:"text-center",attrs:{md:"6"}},[a("h5",[a("div",{staticStyle:{background:"#63F53F",padding:"4px",color:"#04073b"}},[t._v("啟動")])])])],1),a("CRow",[a("CCol",{attrs:{md:"6"}},[a("h5",{staticClass:"pt-1"},[a("font-awesome-icon",{attrs:{icon:"tachometer-alt"}}),t._v(" 減速提前值:")],1)]),a("CCol",{staticClass:"text-center",attrs:{md:"6"}},[a("h5",[a("div",{staticStyle:{background:"#e8fffe",padding:"4px",color:"#04073b"}},[t._v(t._s(t.speed))])])])],1),a("CRow",[a("CCol",{attrs:{md:"6"}},[a("h5",{staticClass:"pt-1",staticStyle:{visibility:"hidden"}},[t._v("Space")])]),a("CCol",{staticClass:"text-center",attrs:{md:"6"}},[a("h5",[a("div",{staticStyle:{padding:"4px",visibility:"hidden"}},[t._v("Space")])])])],1),a("hr"),a("CRow",[t.error?a("CCol",[a("h5",{staticClass:"text-center"},[t._v(t._s(t.errMsg))])]):a("CCol",[a("h5",{staticStyle:{visibility:"hidden"}},[t._v("Space")])])],1),t._m(0)],1)])},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"go-corner",attrs:{href:"#"}},[a("div",{staticClass:"go-arrow"})])}],S={props:["mac","name","line_id"],data:function(){return{icon:c.a,timer:null,reeling:0,retreat:0,speed:"",error:0,errMsg:""}},created:function(){var t=this;this.getData(),this.timer=setInterval((function(){t.getData()}),2e3)},beforeDestroy:function(){clearInterval(this.timer)},computed:{getStyle:function(){return 0===this.error?{"background-image":"linear-gradient(-225deg, #41e595 0%, #25c0b5 100%)"}:{"background-image":"linear-gradient(-225deg, #fa9793 0%, #e33b3b 100%)"}}},methods:{getData:function(){var t=this;this.$http.get("/api/SpoolingLastData/".concat(this.mac)).then((function(e){if(e.data.length>0)if(t.reeling=e.data[0].CH6_10,t.retreat=e.data[0].CH6_09,t.speed=e.data[0].DM601,0===e.data[0].arrError.length)t.error=0;else{t.error=1,t.errMsg="";for(var a=0;a<e.data[0].arrError.length;a++)t.errMsg+=e.data[0].arrError[a].msg,a<e.data[0].arrError.length-1&&(t.errMsg+="/")}else t.speed="--"})).catch((function(t){console.log("getLastMacData(): ".concat(t))}))},go:function(){this.$store.commit("setLine",{line_id:this.line_id,line_name:"",equip_mac:this.mac,equip_name:this.name,plc_ip:""}),this.$router.push("/equipment/spooling/"+this.mac)}}},y=S,x=(a("e0cd"),Object(m["a"])(y,b,w,!1,null,"416c1340",null)),k=x.exports,q={components:{Drawing:v,Forming:g,Spooling:k},data:function(){return{loaded:!1,equipDrawing:[],equipForming:[],equipSpooling:[]}},mounted:function(){var t=this;this.loaded=!1,this.$http.get("/api/Equipments").then((function(e){t.equipDrawing=[],t.equipForming=[],t.equipSpooling=[];for(var a=0;a<e.data.length;a++){var r={mac:e.data[a].mac,name:e.data[a].name,line_id:e.data[a].line_id};switch(e.data[a].type){case"Forming":t.equipForming.push(r);break;case"Drawing":t.equipDrawing.push(r);break;case"Spooling":t.equipSpooling.push(r);break;default:alert("沒有符合的設備類型: ".concat(e.data[a].type))}}t.loaded=!0})).catch((function(t){alert(t.response.data.message)}))},methods:{}},D=q,R=Object(m["a"])(D,r,s,!1,null,"243b56a4",null);e["default"]=R.exports},e0cd:function(t,e,a){"use strict";var r=a("a1f4"),s=a.n(r);s.a},e441:function(t,e,a){}}]);
//# sourceMappingURL=chunk-548cf85b.422c0ef4.js.map