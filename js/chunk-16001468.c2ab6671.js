(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16001468"],{"8b48":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("CContainer",{staticClass:"d-flex align-items-center min-vh-100"},[s("CRow",{staticClass:"justify-content-center"},[s("CCol",{attrs:{md:"10"}},[s("CCardGroup",[s("CCard",{staticClass:"p-5"},[s("CCardBody",[s("CForm",[s("h1",[t._v("登入")]),s("p",{staticClass:"text-muted"},[t._v("請輸入帳號密碼")]),s("CInput",{attrs:{type:"text",placeholder:"帳號",list:"account_list"},scopedSlots:t._u([{key:"prepend-content",fn:function(){return[s("CIcon",{attrs:{name:"cil-user"}})]},proxy:!0}]),model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),s("datalist",{attrs:{id:"account_list"}},[s("option",{attrs:{label:"admin",value:"admin"}}),s("option",{attrs:{label:"user",value:"user"}}),s("option",{attrs:{label:"guest",value:"guest"}})]),s("CInput",{attrs:{placeholder:"密碼",type:"password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.Login(e)}},scopedSlots:t._u([{key:"prepend-content",fn:function(){return[s("CIcon",{attrs:{name:"cil-lock-locked"}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("CRow",[s("CCol",{attrs:{col:"6"}},[s("CButton",{staticClass:"px-4",attrs:{color:"info"},on:{click:t.Login}},[t._v("登入")])],1),s("CCol",{staticClass:"text-right",attrs:{col:"6"}},[s("CButton",{staticClass:"px-0",attrs:{color:"link"},on:{click:t.showAlert}},[t._v("忘記密碼?")])],1)],1)],1)],1)],1),s("CCard",{staticClass:"text-center py-2 d-md-down-none",staticStyle:{width:"100%"},attrs:{color:"info","text-color":"white"}},[s("CCardBody",[s("h2",{staticClass:"pt-4"},[t._v("SilenSYS 設備聯網系統")]),s("CRow",{staticClass:"pt-4"},[s("CCol",[s("CImg",{staticClass:"mb-2",attrs:{src:"img/brand/iot.png",fluid:""}})],1)],1),s("p",[t._v("Data collection, data visulization, and data analysis. Real time production line monitoring.")])],1)],1)],1)],1)],1)],1)},o=[],n=s("c697"),c=s.n(n),r={name:"Login",data:function(){return{account:"",password:"",image:c.a}},created:function(){sessionStorage.setItem("ACCOUNT",""),sessionStorage.setItem("ROLE",""),console.log("line_id=",this.$store.state.line_id),console.log("line_name=",this.$store.state.line_name)},methods:{Login:function(){var t=this,e={account:this.account};this.$http.post("/api/accounts/checkAccount",{data:e}).then((function(e){if(0==e.data.length)t.account="",t.password="",alert("此帳號不存在!!");else{var s={account:t.account,password:t.password};t.$http.post("/api/accounts/checkPassword",{data:s}).then((function(e){if(e.data.pass){sessionStorage.setItem("ACCOUNT",t.account),sessionStorage.setItem("ROLE",e.data.role);var s=sessionStorage.getItem("ROLE");"admin"===s||"user"===s||"guest"===s?t.$router.push("/main"):t.$router.push("/login")}else sessionStorage.setItem("ACCOUNT",""),sessionStorage.setItem("ROLE",""),t.password="",alert("密碼不正確!!")}))}}))},showAlert:function(){alert("請聯絡系統管理員")},addUser:function(){var t={account:"user",password:"user1234",name:"user",role:"user"};this.$http.post("/api/accounts/addUser",{data:t}).then((function(t){alert("新增成功!")})).catch((function(t){console.log("Error: ",t)}))},deleteUser:function(){var t={account:"Test"};this.$http.post("/api/accounts/deleteUser",{data:t}).then((function(t){alert("刪除成功!")})).catch((function(t){console.log("Error: ",t)}))}}},i=r,l=s("2877"),u=Object(l["a"])(i,a,o,!1,null,null,null);e["default"]=u.exports},c697:function(t,e,s){t.exports=s.p+"img/solution-arch.d078f6ae.jpg"}}]);
//# sourceMappingURL=chunk-16001468.c2ab6671.js.map