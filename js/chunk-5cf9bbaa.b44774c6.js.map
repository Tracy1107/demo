{"version":3,"sources":["webpack:///./src/views/EquipMaintain.vue?66e1","webpack:///./src/views/part/Part.vue?d05a","webpack:///src/views/part/Part.vue","webpack:///./src/views/part/Part.vue?96b1","webpack:///./src/views/part/Part.vue","webpack:///src/views/EquipMaintain.vue","webpack:///./src/views/EquipMaintain.vue?dad2","webpack:///./src/views/EquipMaintain.vue","webpack:///./src/views/part/Part.vue?640a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","_v","staticClass","optionsLine","on","getOptionsLine","SelectLine","model","value","callback","$$v","selectedLine","expression","optionsName","getOptionsName","onSelectPart","selectedName","_l","item","key","index","line_id","part_name","data","life_time","use_time","res_time","staticRenderFns","style","residualPerc","styleObj1","styleObj2","img","_s","name","resDay","resHour","$event","resetModal","title","scopedSlots","_u","fn","reset","proxy","props","computed","Math","floor","methods","getPartLife","$http","get","post","alert","err","component","components","items","created","console","log","lineId","selectedItem","partName"],"mappings":"uHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACA,EAAG,YAAY,CAACA,EAAG,KAAK,CAACE,YAAY,CAAC,MAAQ,YAAY,CAACF,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,uBAAuB,KAAO,QAAQP,EAAIQ,GAAG,UAAU,GAAGJ,EAAG,KAAK,CAACK,YAAY,cAAcL,EAAG,OAAO,CAACK,YAAY,QAAQ,CAACL,EAAG,OAAO,CAACG,MAAM,CAAC,GAAK,MAAM,CAACH,EAAG,MAAM,CAACK,YAAY,kBAAkB,CAACL,EAAG,QAAQ,CAACK,YAAY,sCAAsC,CAACT,EAAIQ,GAAG,SAASJ,EAAG,MAAM,CAACK,YAAY,YAAY,CAACL,EAAG,cAAc,CAACK,YAAY,OAAOF,MAAM,CAAC,QAAUP,EAAIU,YAAY,MAAQ,YAAY,WAAW,YAAY,YAAc,KAAK,cAAgB,KAAK,YAAa,EAAM,YAAc,OAAOC,GAAG,CAAC,KAAOX,EAAIY,eAAe,OAASZ,EAAIa,YAAYC,MAAM,CAACC,MAAOf,EAAgB,aAAEgB,SAAS,SAAUC,GAAMjB,EAAIkB,aAAaD,GAAKE,WAAW,mBAAmB,OAAOf,EAAG,OAAO,CAACG,MAAM,CAAC,GAAK,MAAM,CAACH,EAAG,MAAM,CAACK,YAAY,kBAAkB,CAACL,EAAG,QAAQ,CAACK,YAAY,uCAAuC,CAACT,EAAIQ,GAAG,WAAWJ,EAAG,MAAM,CAACK,YAAY,YAAY,CAACL,EAAG,cAAc,CAACG,MAAM,CAAC,QAAUP,EAAIoB,YAAY,MAAQ,YAAY,WAAW,YAAY,YAAc,KAAK,cAAgB,KAAK,YAAc,UAAUT,GAAG,CAAC,KAAOX,EAAIqB,eAAe,OAASrB,EAAIsB,cAAcR,MAAM,CAACC,MAAOf,EAAgB,aAAEgB,SAAS,SAAUC,GAAMjB,EAAIuB,aAAaN,GAAKE,WAAW,mBAAmB,QAAQ,GAAGf,EAAG,OAAO,CAACK,YAAY,OAAOF,MAAM,CAAC,SAAU,IAAQP,EAAIwB,GAAIxB,EAAS,OAAE,SAASyB,GAAM,OAAOrB,EAAG,OAAO,CAACsB,IAAID,EAAKE,MAAMlB,YAAY,OAAOF,MAAM,CAAC,GAAK,IAAI,GAAK,MAAM,CAACH,EAAG,OAAO,CAACG,MAAM,CAAC,QAAUkB,EAAKG,QAAQ,KAAOH,EAAKI,UAAU,IAAMJ,EAAKK,KAAK,UAAYL,EAAKM,UAAU,SAAWN,EAAKO,SAAS,SAAWP,EAAKQ,aAAa,MAAK,IAAI,IAAI,IAAI,IAC9sDC,EAAkB,GCDlB,EAAS,WAAa,IAAIlC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACK,YAAY,OAAO0B,MAAM,CAAEnC,EAAIoC,cAAc,GAAKpC,EAAIqC,UAAYrC,EAAIsC,YAAa,CAAClC,EAAG,YAAY,CAACA,EAAG,OAAO,CAACG,MAAM,CAAC,SAAU,IAAQ,CAACH,EAAG,OAAO,CAACA,EAAG,MAAM,CAACK,YAAY,aAAa,CAACL,EAAG,OAAO,CAACK,YAAY,QAAQF,MAAM,CAAC,IAAMP,EAAIuC,QAAQ,KAAKnC,EAAG,OAAO,CAACK,YAAY,oBAAoB,CAACL,EAAG,SAAS,CAACE,YAAY,CAAC,YAAY,SAAS,CAACN,EAAIQ,GAAGR,EAAIwC,GAAGxC,EAAIyC,YAAY,GAAGrC,EAAG,OAAO,CAACK,YAAY,oBAAoB,CAACL,EAAG,OAAO,CAACK,YAAY,OAAOF,MAAM,CAAC,GAAK,MAAM,CAACH,EAAG,SAAS,CAACE,YAAY,CAAC,YAAY,SAAS,CAACN,EAAIQ,GAAGR,EAAIwC,GAAGxC,EAAI0C,QAAQ,MAAM1C,EAAIwC,GAAGxC,EAAI2C,SAAS,WAAWvC,EAAG,OAAO,CAACK,YAAY,OAAOF,MAAM,CAAC,GAAK,MAAM,CAAEP,EAAIoC,aAAa,GAAIhC,EAAG,KAAK,CAACE,YAAY,CAAC,MAAQ,SAAS,CAACN,EAAIQ,GAAGR,EAAIwC,GAAGxC,EAAIoC,cAAc,OAAOhC,EAAG,KAAK,CAACE,YAAY,CAAC,MAAQ,QAAQ,CAACN,EAAIQ,GAAGR,EAAIwC,GAAGxC,EAAIoC,cAAc,UAAU,GAAGhC,EAAG,MAAM,CAACK,YAAY,oBAAoB,CAACL,EAAG,UAAU,CAACE,YAAY,CAAC,MAAQ,OAAO,WAAa,WAAWC,MAAM,CAAC,KAAO,MAAMI,GAAG,CAAC,MAAQ,SAASiC,GAAQ5C,EAAI6C,YAAW,KAAQ,CAAC7C,EAAIQ,GAAG,SAAS,IAAI,IAAI,GAAGJ,EAAG,SAAS,CAACG,MAAM,CAAC,KAAOP,EAAI6C,WAAW,wBAAuB,EAAK,MAAQ7C,EAAI8C,MAAM,YAAc,QAAQnC,GAAG,CAAC,cAAc,SAASiC,GAAQ5C,EAAI6C,WAAWD,IAASG,YAAY/C,EAAIgD,GAAG,CAAC,CAACtB,IAAI,SAASuB,GAAG,WAAW,MAAO,CAAC7C,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,aAAaI,GAAG,CAAC,MAAQ,SAASiC,GAAQ5C,EAAI6C,YAAa,KAAS,CAAC7C,EAAIQ,GAAG,QAAQJ,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,QAAQI,GAAG,CAAC,MAAQX,EAAIkD,QAAQ,CAAClD,EAAIQ,GAAG,UAAU2C,OAAM,MAAS,CAAC/C,EAAG,QAAQ,CAACA,EAAG,MAAM,CAACK,YAAY,kBAAkB,CAACL,EAAG,QAAQ,CAACK,YAAY,sCAAsC,CAACT,EAAIQ,GAAG,UAAUJ,EAAG,MAAM,CAACK,YAAY,YAAY,CAACL,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,YAAc,OAAOO,MAAM,CAACC,MAAOf,EAAa,UAAEgB,SAAS,SAAUC,GAAMjB,EAAI+B,UAAUd,GAAKE,WAAW,gBAAgB,GAAGf,EAAG,QAAQ,CAACK,YAAY,2BAA2B,CAACT,EAAIQ,GAAG,aAAa,IAAI,IAC56D,EAAkB,GCqDtB,GACEiC,KAAM,OACNW,MAAO,CAAC,UAAV,gDACEtB,KAHF,WAII,MAAO,CACLC,UAAW9B,KAAK8B,UAChBC,SAAU/B,KAAK+B,SACfC,SAAUhC,KAAKgC,SACfY,YAAY,EACZC,MAAO7C,KAAKwC,KAAO,SACnBJ,UAAW,CACT,aAAR,0GAEMC,UAAW,CACT,WAAR,UACQ,aAAR,4GAIEe,SAAU,CACRV,QADJ,WAEM,OAAO1C,KAAKgC,SAAW,IAEzBS,OAJJ,WAKM,OAAOY,KAAKC,MAAMtD,KAAKgC,SAAW,KAEpCG,aAPJ,WAQM,OAAOkB,KAAKC,MAAsB,IAAhBtD,KAAKgC,SAAiBhC,KAAK8B,aAGjDyB,QAAS,CACPC,YADJ,WACA,WACMxD,KAAKyD,MAAMC,IAAI,yBAA0B,CAA/C,kDACA,kBACA,kBACU,EAAV,8BACU,EAAV,4BACU,EAAV,sBACU,EAAV,iCACU,EAAV,yEAIIT,MAbJ,WAaA,WACA,2BACQjD,KAAKyD,MAAME,KAAK,2BAA4B,CAApD,wEACA,kBACU,EAAV,iBAEA,mBACUC,MAAM,gBAAiBC,MAEzB7D,KAAK4C,YAAa,MC1GmU,I,wBCQzVkB,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCqBf,GACEC,WAAY,CAAd,QACElC,KAFF,WAGI,MAAO,CACLZ,aAAc,KACdR,YAAa,GACba,aAAc,KACdH,YAAa,GACb6C,MAAO,KAGXC,QAXF,WAWA,WAEIjE,KAAKyD,MAAMC,IAAI,yBAA0B,CAA7C,oBACA,kBACM,EAAN,gBAEA,mBACMQ,QAAQC,IAAI,UAAlB,cAIInE,KAAKyD,MAAMC,IAAI,oBACnB,kBACM,EAAN,eACM,IAAN,4BACQ,EAAR,4BAEM,EAAN,yEAEA,mBACMQ,QAAQC,IAAI,UAAlB,eAgBEZ,QAAS,CACP5C,eADJ,WACA,WACMX,KAAKyD,MAAMC,IAAI,oBACrB,kBACQ,EAAR,eACQ,IAAR,4BACU,EAAV,+BAGA,mBACQQ,QAAQC,IAAI,UAApB,eAGI/C,eAbJ,WAaA,WACA,GACQgD,OAAQpE,KAAKiB,aAAejB,KAAKiB,aAAaU,QAAU,MAE1D3B,KAAKyD,MAAMC,IAAI,kCAAmC,CAAxD,WACA,kBACQ,EAAR,sBAEA,mBACQQ,QAAQC,IAAI,UAApB,eAGIvD,WAzBJ,SAyBA,cAQA,GACQwD,OAAQC,EAAa1C,QACrB2C,SAAUtE,KAAKsB,aAAetB,KAAKsB,aAAaM,UAAY,MAG9D5B,KAAKyD,MAAMC,IAAI,yBAA0B,CAA/C,WACA,kBACQ,EAAR,gBAEA,mBACQQ,QAAQC,IAAI,UAApB,eAGI9C,aA9CJ,SA8CA,cACA,GACQ+C,OAAQpE,KAAKiB,aAAejB,KAAKiB,aAAaU,QAAU,KACxD2C,SAAUhD,EAAaM,WAGzB5B,KAAKyD,MAAMC,IAAI,yBAA0B,CAA/C,WACA,kBACQ,EAAR,SACQ,IAAR,4BACU,EAAV,yBAGA,mBACQQ,QAAQC,IAAI,UAApB,iBCnJuV,ICOnV,EAAY,eACd,EACArE,EACAmC,GACA,EACA,KACA,KACA,MAIa,e,6CClBf,yBAAsjB,EAAG,G","file":"js/chunk-5cf9bbaa.b44774c6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('CCard',[_c('CCardBody',[_c('h4',{staticStyle:{\"color\":\"#8c5c7d\"}},[_c('CIcon',{attrs:{\"name\":\"cil-magnifying-glass\",\"size\":\"lg\"}}),_vm._v(\" 設備維護\")],1),_c('hr',{staticClass:\"mt-0 mb-2\"}),_c('CRow',{staticClass:\"pt-3\"},[_c('CCol',{attrs:{\"md\":\"2\"}},[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-3 col-form-label text-right\"},[_vm._v(\"產線:\")]),_c('div',{staticClass:\"col-sm-8\"},[_c('multiselect',{staticClass:\"mb-3\",attrs:{\"options\":_vm.optionsLine,\"label\":\"line_name\",\"track-by\":\"line_name\",\"selectLabel\":\"選取\",\"deselectLabel\":\"取消\",\"searchable\":false,\"placeholder\":\"請選擇\"},on:{\"open\":_vm.getOptionsLine,\"select\":_vm.SelectLine},model:{value:(_vm.selectedLine),callback:function ($$v) {_vm.selectedLine=$$v},expression:\"selectedLine\"}})],1)])]),_c('CCol',{attrs:{\"md\":\"3\"}},[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-3 col-form-label text-center\"},[_vm._v(\"零件名稱:\")]),_c('div',{staticClass:\"col-sm-8\"},[_c('multiselect',{attrs:{\"options\":_vm.optionsName,\"label\":\"part_name\",\"track-by\":\"part_name\",\"selectLabel\":\"選取\",\"deselectLabel\":\"取消\",\"placeholder\":\"輸入幾碼搜尋\"},on:{\"open\":_vm.getOptionsName,\"select\":_vm.onSelectPart},model:{value:(_vm.selectedName),callback:function ($$v) {_vm.selectedName=$$v},expression:\"selectedName\"}})],1)])])],1),_c('CRow',{staticClass:\"py-1\",attrs:{\"gutters\":false}},_vm._l((_vm.items),function(item){return _c('CCol',{key:item.index,staticClass:\"px-1\",attrs:{\"sm\":\"6\",\"lg\":\"3\"}},[_c('Part',{attrs:{\"line_id\":item.line_id,\"name\":item.part_name,\"img\":item.data,\"life_time\":item.life_time,\"use_time\":item.use_time,\"res_time\":item.res_time}})],1)}),1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('CCard',{staticClass:\"mb-2\",style:([_vm.residualPerc>=20 ? _vm.styleObj1 : _vm.styleObj2])},[_c('CCardBody',[_c('CRow',{attrs:{\"gutters\":false}},[_c('CCol',[_c('div',{staticClass:\"container\"},[_c('CImg',{staticClass:\"image\",attrs:{\"src\":_vm.img}})],1)]),_c('CCol',{staticClass:\"pt-3 text-center\"},[_c('strong',{staticStyle:{\"font-size\":\"24px\"}},[_vm._v(_vm._s(_vm.name))])])],1),_c('CRow',{staticClass:\"pt-4 text-center\"},[_c('CCol',{staticClass:\"px-0\",attrs:{\"sm\":\"8\"}},[_c('strong',{staticStyle:{\"font-size\":\"18px\"}},[_vm._v(_vm._s(_vm.resDay)+\" 天 \"+_vm._s(_vm.resHour)+\" 小時\")])]),_c('CCol',{staticClass:\"px-0\",attrs:{\"sm\":\"4\"}},[(_vm.residualPerc>20)?_c('h5',{staticStyle:{\"color\":\"blue\"}},[_vm._v(_vm._s(_vm.residualPerc)+\"%\")]):_c('h5',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.residualPerc)+\"%\")])])],1),_c('div',{staticClass:\"pt-3 text-center\"},[_c('CButton',{staticStyle:{\"width\":\"100%\",\"background\":\"#ADEBEE\"},attrs:{\"size\":\"lg\"},on:{\"click\":function($event){_vm.resetModal=true}}},[_vm._v(\"設定\")])],1)],1)],1),_c('CModal',{attrs:{\"show\":_vm.resetModal,\"no-close-on-backdrop\":true,\"title\":_vm.title,\"borderColor\":\"info\"},on:{\"update:show\":function($event){_vm.resetModal=$event}},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [_c('CButton',{attrs:{\"color\":\"secondary\"},on:{\"click\":function($event){_vm.resetModal = false}}},[_vm._v(\"取消\")]),_c('CButton',{attrs:{\"color\":\"info\"},on:{\"click\":_vm.reset}},[_vm._v(\"重設\")])]},proxy:true}])},[_c('CForm',[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-sm-3 col-form-label text-right\"},[_vm._v(\"使用壽命\")]),_c('div',{staticClass:\"col-sm-6\"},[_c('CInput',{attrs:{\"size\":\"lg\",\"placeholder\":\"請輸入\"},model:{value:(_vm.life_time),callback:function ($$v) {_vm.life_time=$$v},expression:\"life_time\"}})],1),_c('label',{staticClass:\"col-sm-2 col-form-label\"},[_vm._v(\"小時\")])])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <!-- <CCard class=\"mb-2\" style=\"box-shadow:2px 2px 2px rgba(20%,20%,40%,0.2),4px 4px 6px rgba(20%,20%,40%,0.2),6px 6px 12px rgba(20%,20%,40%,0.4);\"> -->\r\n    <!-- <CCard class=\"mb-2\" :style=\"[residualPerc>=20 ? {'box-shadow':'2px 2px 2px rgba(20%,20%,40%,0.2),4px 4px 6px rgba(20%,20%,40%,0.2),6px 6px 12px rgba(20%,20%,40%,0.4);'} : {'background':'#FFD5DA','box-shadow':'2px 2px 2px rgba(20%,20%,40%,0.2),4px 4px 6px rgba(20%,20%,40%,0.2),6px 6px 12px rgba(20%,20%,40%,0.4);'}]\"> -->\r\n    <CCard class=\"mb-2\" :style=\"[residualPerc>=20 ? styleObj1 : styleObj2]\">\r\n      <CCardBody>\r\n        <CRow :gutters=\"false\">\r\n          <CCol>\r\n            <div class=\"container\">\r\n              <CImg :src=\"img\" class=\"image\"/>\r\n            </div>\r\n          </CCol>\r\n          <CCol class=\"pt-3 text-center\"><strong style=\"font-size:24px\">{{name}}</strong></CCol>\r\n        </CRow>\r\n        <CRow class=\"pt-4 text-center\">\r\n          <CCol sm=\"8\" class=\"px-0\">\r\n            <strong style=\"font-size:18px\">{{resDay}} 天 {{resHour}} 小時</strong>\r\n          </CCol>\r\n          <CCol sm=\"4\" class=\"px-0\">\r\n            <h5 v-if=\"residualPerc>20\" style=\"color:blue\">{{residualPerc}}%</h5>\r\n            <h5 v-else style=\"color:red\">{{residualPerc}}%</h5>\r\n          </CCol>\r\n        </CRow>\r\n        <div class=\"pt-3 text-center\">\r\n          <CButton size=\"lg\" style=\"width:100%;background:#ADEBEE;\" @click=\"resetModal=true\">設定</CButton>\r\n        </div>\r\n      </CCardBody>\r\n    </CCard>\r\n    <!-- resetModal Component start -->\r\n    <CModal\r\n      :show.sync=\"resetModal\"\r\n      :no-close-on-backdrop=\"true\"\r\n      :title=\"title\"\r\n      borderColor=\"info\"\r\n    >\r\n      <CForm>\r\n        <div class=\"form-group row\">\r\n          <label class=\"col-sm-3 col-form-label text-right\">使用壽命</label>\r\n          <div class=\"col-sm-6\">\r\n            <CInput v-model=\"life_time\" size=\"lg\" placeholder=\"請輸入\"/>\r\n          </div>\r\n          <label class=\"col-sm-2 col-form-label\">小時</label>\r\n        </div>\r\n      </CForm>\r\n      <template #footer>\r\n        <CButton @click=\"resetModal = false\" color=\"secondary\">取消</CButton>\r\n        <CButton @click=\"reset\" color=\"info\">重設</CButton>\r\n      </template>\r\n    </CModal>\r\n    <!-- resetModal Component end -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Part',\r\n  props: [ 'line_id', 'name', 'img', 'life_time', 'use_time', 'res_time' ],\r\n  data() {\r\n    return {\r\n      life_time: this.life_time,\r\n      use_time: this.use_time,\r\n      res_time: this.res_time,\r\n      resetModal: false,\r\n      title: this.name + '使用期限設定',\r\n      styleObj1: {\r\n        'box-shadow':'2px 2px 2px rgba(20%,20%,40%,0.1),4px 4px 6px rgba(20%,20%,40%,0.1),6px 6px 12px rgba(20%,20%,40%,0.2)'\r\n      },\r\n      styleObj2: {\r\n        'background':'#FFD5DA',\r\n        'box-shadow':'2px 2px 2px rgba(20%,20%,40%,0.1),4px 4px 6px rgba(20%,20%,40%,0.1),6px 6px 12px rgba(20%,20%,40%,0.2)'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    resHour() {\r\n      return this.res_time % 24  // hour \r\n    },\r\n    resDay() {\r\n      return Math.floor(this.res_time / 24)   // day\r\n    },\r\n    residualPerc() {\r\n      return Math.floor(this.res_time * 100 / this.life_time)  // 百分比\r\n    }\r\n  },\r\n  methods: {\r\n    getPartLife() {\r\n      this.$http.get('/api/parts/getPartLife', {params: {lineId: this.line_id, partName: this.name}})\r\n      .then(res => {\r\n        if(res.data.length>0) {\r\n          this.life_time = res.data[0].life_time        // 零件的使用壽命 hour\r\n          this.res_time = res.data[0].res_time     // hour\r\n          this.resHour = this.res_time % 24  // hour       \r\n          this.resDay = Math.floor(this.res_time / 24)   // day\r\n          this.residualPerc = Math.floor(res.data[0].res_time * 100 / res.data[0].life_time)  // 百分比\r\n        }\r\n      })\r\n    },\r\n    reset() {\r\n      if(confirm('確定要重設此零件使用時間?')){\r\n        this.$http.post('/api/parts/resetPartlife', {data: {lineId: this.line_id, partName: this.name, lifeTime: this.life_time}})\r\n        .then(res => {\r\n          this.getPartLife()\r\n        })\r\n        .catch(err => {\r\n          alert('重設零件使用時間發生問題:', err)\r\n        })\r\n        this.resetModal = false\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .container {\r\n    width: 100%;\r\n    padding-top: 76%; /* 1:1 Aspect Ratio */\r\n    position: relative; /* If you want text inside of it */\r\n    \r\n  }\r\n\r\n  .image {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    bottom: 0;\r\n    right: 0;\r\n\r\n    width: 100%;\r\n    max-height: 100%;\r\n    display: block;\r\n\r\n    border-style: ridge;\r\n    border-width: 3px;\r\n    // padding: 5px;\r\n\r\n    filter:drop-shadow(1px 1px 3px #90A4AE)\r\n    // filter:box-shadow(1px 1px 3px #243949)\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Part.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Part.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Part.vue?vue&type=template&id=62f1312f&scoped=true&\"\nimport script from \"./Part.vue?vue&type=script&lang=js&\"\nexport * from \"./Part.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Part.vue?vue&type=style&index=0&id=62f1312f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62f1312f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <CCard>\r\n      <CCardBody>\r\n        <h4 style=\"color:#8c5c7d\"><CIcon name=\"cil-magnifying-glass\" size=\"lg\"/> 設備維護</h4>\r\n        <hr class=\"mt-0 mb-2\">\r\n        <CRow class=\"pt-3\">\r\n          <CCol md=\"2\">\r\n            <div class=\"form-group row\">\r\n              <label class=\"col-sm-3 col-form-label text-right\">產線:</label>\r\n              <div class=\"col-sm-8\">\r\n                <multiselect class=\"mb-3\" v-model=\"selectedLine\" :options=\"optionsLine\" @open=\"getOptionsLine\" @select=\"SelectLine\" label=\"line_name\" track-by=\"line_name\" selectLabel=\"選取\" deselectLabel=\"取消\" :searchable=\"false\" placeholder=\"請選擇\"></multiselect>\r\n              </div>\r\n            </div>\r\n          </CCol>\r\n          <CCol md=\"3\">\r\n            <div class=\"form-group row\">\r\n              <label class=\"col-sm-3 col-form-label text-center\">零件名稱:</label>\r\n              <div class=\"col-sm-8\">\r\n                <multiselect v-model=\"selectedName\" :options=\"optionsName\" @open=\"getOptionsName\" @select=\"onSelectPart\" label=\"part_name\" track-by=\"part_name\" selectLabel=\"選取\" deselectLabel=\"取消\" placeholder=\"輸入幾碼搜尋\"></multiselect>\r\n              </div>\r\n            </div>\r\n          </CCol>\r\n          <!-- <CCol md=\"3\">\r\n            <CButton color=\"info\" class=\"mr-2 mb-4\" @click=\"showAddModal\"><font-awesome-icon icon=\"plus\"/> 新增</CButton>\r\n          </CCol> -->\r\n        </CRow>\r\n        <CRow :gutters=\"false\" class=\"py-1\">\r\n          <CCol sm=\"6\" lg=\"3\" class=\"px-1\" v-for=\"item in items\" :key=\"item.index\">\r\n            <Part :line_id=\"item.line_id\" :name=\"item.part_name\" :img=\"item.data\" :life_time=\"item.life_time\" :use_time=\"item.use_time\" :res_time=\"item.res_time\"></Part>\r\n          </CCol>\r\n        </CRow>\r\n      </CCardBody>\r\n    </CCard>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Part from './part/Part'\r\n\r\nexport default {\r\n  components: { Part },\r\n  data() {\r\n    return {\r\n      selectedLine: null,\r\n      optionsLine: [],\r\n      selectedName: null,\r\n      optionsName: [],\r\n      items: []\r\n    }\r\n  },\r\n  created() {\r\n    // 先取得產線1的零件設備\r\n    this.$http.get('/api/parts/getAllParts', {params: {lineId: 1}})\r\n    .then(res => {\r\n      this.items = res.data\r\n    })\r\n    .catch(err => {\r\n      console.log(`Error: ${err}`)\r\n    })\r\n    \r\n    // 設定下拉選單的item\r\n    this.$http.get('/api/getAllLines')\r\n    .then(res => {\r\n      this.optionsLine = []\r\n      for(let i=0; i<res.data.length; i++) {\r\n        this.optionsLine.push(res.data[i])\r\n      }\r\n      this.selectedLine = this.optionsLine.find(x => x.line_id==='1')\r\n    })\r\n    .catch(err => {\r\n      console.log(`Error: ${err}`)\r\n    })\r\n\r\n    // let param = {\r\n    //   lineId: selectedItem.line_id,\r\n    //   partName: this.selectedName ? this.selectedName.part_name : null\r\n    // }\r\n\r\n    // this.$http.get('/api/parts/getPartData', {params: param})\r\n    // .then(res => {\r\n    //   this.items = res.data\r\n    // })\r\n    // .catch(err => {\r\n    //   console.log(`Error: ${err}`)\r\n    // })\r\n  },\r\n  methods: {\r\n    getOptionsLine() {\r\n      this.$http.get('/api/getAllLines')\r\n      .then(res => {\r\n        this.optionsLine = []\r\n        for(let i=0; i<res.data.length; i++) {\r\n          this.optionsLine.push(res.data[i])\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(`Error: ${err}`)\r\n      })\r\n    },\r\n    getOptionsName() {\r\n      let param = {\r\n        lineId: this.selectedLine ? this.selectedLine.line_id : null\r\n      }\r\n      this.$http.get('/api/parts/getDistinctPartsName', {params: param})\r\n      .then(res => {\r\n        this.optionsName = res.data\r\n      })\r\n      .catch(err => {\r\n        console.log(`Error: ${err}`)\r\n      })\r\n    },\r\n    SelectLine(selectedItem) {\r\n      // this.$http.get('/api/parts/getAllParts', {params: {lineId: selectedItem.line_id}})\r\n      // .then(res => {\r\n      //   this.items = res.data\r\n      // })\r\n      // .catch(err => {\r\n      //   console.log(`Error: ${err}`)\r\n      // })\r\n      let param = {\r\n        lineId: selectedItem.line_id,\r\n        partName: this.selectedName ? this.selectedName.part_name : null\r\n      }\r\n\r\n      this.$http.get('/api/parts/getPartData', {params: param})\r\n      .then(res => {\r\n        this.items = res.data\r\n      })\r\n      .catch(err => {\r\n        console.log(`Error: ${err}`)\r\n      })\r\n    },\r\n    onSelectPart(selectedName) {\r\n      let param = {\r\n        lineId: this.selectedLine ? this.selectedLine.line_id : null,\r\n        partName: selectedName.part_name\r\n      }\r\n\r\n      this.$http.get('/api/parts/getPartData', {params: param})\r\n      .then(res => {\r\n        this.items = []\r\n        for(let i=0; i<res.data.length; i++) {\r\n          this.items.push(res.data[i])\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.log(`Error: ${err}`)\r\n      })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EquipMaintain.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EquipMaintain.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EquipMaintain.vue?vue&type=template&id=62e97846&\"\nimport script from \"./EquipMaintain.vue?vue&type=script&lang=js&\"\nexport * from \"./EquipMaintain.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Part.vue?vue&type=style&index=0&id=62f1312f&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Part.vue?vue&type=style&index=0&id=62f1312f&lang=scss&scoped=true&\""],"sourceRoot":""}